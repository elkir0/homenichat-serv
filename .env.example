# Homenichat-Serv Environment Variables
# Copy this file to .env and configure your values

# Server
PORT=3001
NODE_ENV=production
DATA_DIR=/app/data

# JWT Secret (generate a strong random string!)
JWT_SECRET=change-this-to-a-secure-random-string

# Encryption (optional, for sensitive data at rest)
ENCRYPTION_KEY=

# WhatsApp - Meta Cloud API (optional)
META_APP_ID=
META_APP_SECRET=
META_PHONE_NUMBER_ID=
META_ACCESS_TOKEN=
META_WEBHOOK_SECRET=

# SMS - Twilio (optional)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# SMS - OVH (optional)
OVH_APP_KEY=
OVH_APP_SECRET=
OVH_CONSUMER_KEY=
OVH_SERVICE_NAME=

# VoIP - Asterisk/FreePBX AMI (optional)
# Used for call control, extension management, and trunk creation
AMI_HOST=127.0.0.1
AMI_PORT=5038
AMI_USERNAME=homenichat
AMI_PASSWORD=

# VoIP - WebRTC/SIP Configuration (optional)
# For external FreePBX/Asterisk with WebRTC support
# If set, discovery will use these for 1-click VoIP setup
VOIP_WSS_URL=wss://your-pbx.example.com:8089/ws
VOIP_DOMAIN=your-pbx.example.com
# Default extension (users can configure their own in the app)
VOIP_EXTENSION=
VOIP_PASSWORD=

# CDR API - Asterisk/FreePBX MySQL Database (optional)
# Enables reading call history from Asterisk CDR database
ASTERISK_CDR_HOST=localhost
ASTERISK_CDR_PORT=3306
ASTERISK_CDR_USER=freepbxuser
ASTERISK_CDR_PASSWORD=
ASTERISK_CDR_DATABASE=asteriskcdrdb

# CDR API Token (for mobile app authentication without JWT)
# Generate with: node -e "console.log('cdr_sk_live_' + require('crypto').randomBytes(24).toString('hex'))"
CDR_API_TOKEN=

# GSM Modem (optional)
SIM_PIN=

# Push Relay (for FCM/APNs notifications)
# Required for push notifications to mobile apps (incoming calls, messages)
# Get an API key from: https://push.homenichat.com/admin/api-keys
PUSH_RELAY_URL=https://push.homenichat.com
PUSH_RELAY_API_KEY=

# Tunnel Relay - WireGuard + TURN (optional)
# Enables zero-config remote access via WireGuard VPN and TURN server
# Your server will be accessible at https://[hostname].clients.homenichat.com
TUNNEL_RELAY_ENABLED=false
TUNNEL_RELAY_URL=https://relay.homenichat.com
TUNNEL_RELAY_HOSTNAME=
